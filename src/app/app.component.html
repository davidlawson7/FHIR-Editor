<!-- Editor Navigation -->
<header>
  <nav>
    <div class="nav-wrapper">
        <a href="#" data-activates="slide-out" class="button-collapse"><i class="material-icons">menu</i></a>
        <a href="#!" class="brand-logo">{{title}}</a>
        <ul class="right hide-on-med-and-down">
          <li>Connected to: <strong>{{connectedServer}}</strong></li>
          <li><a href="#debug-modal" class="waves-effect waves-light btn">Debug Box</a></li>
          <li><a href="#server-selection-modal" class="waves-effect waves-light btn">Settings</a></li>
        </ul>
    </div>
  </nav>

  <ul id="slide-out" class="side-nav fixed">
    <!-- For search based requests -->
    <div class="row">
      <div class="center">
          <h4 class="logo">Search</h4>
      </div>

      <!-- The Resource being queried -->
      <div class="row col s12">
        <label for="resource_type">Type</label>
          <select class="browser-default" id="resource_type"
                  name="type"
                  [(ngModel)]="selectedResourceType" required
                  #fhir_server="ngModel">
              <option value="" disabled selected>Choose your Resource</option>
              <option *ngFor="let type of types" [value]="type">{{type}}</option>
          </select>
      </div>
      <!-- What to search by -->
      <div class="row col s12">
        <label for="search_by">Search by</label>
          <select class="browser-default" id="search_by"
                  name="searchby"
                  [(ngModel)]="selectedSearchField" required
                  #fhir_server="ngModel">
              <option value="" disabled selected>Choose your Field</option>
              <option *ngFor="let field of fields" [value]="field">{{field}}</option>
          </select>
      </div>
      <!-- Value to search for -->
      <div class="row">
          <div class="input-field col s12">
              <input [(ngModel)]="searchValue" placeholder="i.e. John Doe" id="value" type="text" class="validate">
              <label for="value">Value</label>
          </div>
      </div>
      <!-- Query submit button -->
      <div class="row">
          <div class="input-field col s12">
              <a [routerLink]="['/query/', connectedServer, selectedResourceType, searchValue]" class="waves-effect waves-light btn">Send</a>
          </div>
          <a class="modal-trigger waves-effect waves-light btn" href="#search-modal">Modal</a>
      </div>
    </div>
    <div class="divider"></div>
    <!-- For saved resource -->
    <div class="row">
      <div class="col s12 center">
          <h4 class="logo">Saved</h4>
      </div>
    </div>
    <li *ngFor="let saved of savedResources"><a [routerLink]="['/query/', connectedServer, saved[1], saved[2]]" href="#!">{{saved[0]}}</a></li>

  </ul>

</header>
<!-- End! Editor Navigation -->

<!-- Editor Content -->
<main>
    <div class="row">
      <!-- Page tabs -->
      <div class="">
        <ul class="tabs">
          <li class="tab col s3"><a href="#test1">untitled</a></li>
        </ul>
      </div>
      <!-- Page output zone -->
      <div id="page1" class="col s12">
        <!--<app-form [questions]="questions"></app-form>-->
        <router-outlet></router-outlet>
      </div>
    </div>
  <div class="container">

  </div>

  <!-- Resource selection box - Materializecss Modal -->
  <div id="search-modal" class="modal modal-fixed-footer">
    <div class="modal-content">
      <div class="row">
        <h4>Search Results</h4>
        <div class="divider"></div>
        <p>Please select a Resource from the list click 'Select Resource'.</p>
      </div>
      <div class="row">
        <ul class="pagination">
         <li class="disabled"><a href="#!"></a></li>
         <li class="active"><a href="#!">1</a></li>
         <li class="waves-effect"><a href="#!">2</a></li>
         <li class="waves-effect"><a href="#!">3</a></li>
         <li class="waves-effect"><a href="#!">4</a></li>
         <li class="waves-effect"><a href="#!">5</a></li>
         <li class="waves-effect"><a href="#!"></a></li>
       </ul>
     </div>
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat ">Select Resource</a>
    </div>
  </div>
  <!-- End! Resource selection box - Materializecss Modal -->
  <!-- Server selection box - Materializecss Modal -->
  <div id="server-selection-modal" class="modal modal-fixed-footer">
    <div class="modal-content">
      <!-- Settings header -->
      <div class="section">
        <h4>Settings</h4>
        <div class="divider"></div>
      </div>
      <!-- FHIR Endpoint -->
      <div class="section">
        <h5>Select FHIR Endpoint</h5>

        <div class="row">
          <!-- FHIR Endpoint dropdown -->
            <label for="fhir_server">Choose a FHIR Server:</label>
            <select class="browser-default" id="fhir_server"
                    name="fhir_server"
                    [(ngModel)]="connectedServer" required
                    #fhir_server="ngModel">
              <option value="" disabled selected>Choose your option</option>
              <option *ngFor="let server of servers" [value]="server[1]">{{server[0]}}</option>
            </select>

            <!-- FHIR Endpoint output -->
            <ul class="collapsible" data-collapsible="accordion">
              <li>
                <div class="collapsible-header">Connection Details</div>
                <div class="collapsible-body">
                  <span>
                    Server: Connected<br>
                    <strong>FHIR Version</strong><br>1.4.0
                    <strong>Software</strong><br>Ontoserver 4.1.14
                    <strong>Publisher</strong><br>The Australian e-Health Research Centre, CSIRO
                    <strong>Security</strong><br>none
                    <strong>Description</strong><br>Ontoserver, The Australian e-Health Research Centre, CSIRO
                  </span>
                </div>
              </li>
            </ul>
        </div>
      </div>
      <!-- End! FHIR Endpoint -->
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat ">Exit Settings</a>
    </div>
  </div>
  <!-- End! Server selection box - Materializecss Modal -->

  <!-- Debug box - Materializecss Modal -->
  <div id="debug-modal" class="modal modal-fixed-footer">
    <div class="modal-content">
      <!-- Title row -->
      <div class="row">
        <h4>The Debug Box</h4>
        <p>This box contains the output of typescript variables for debuggin purposes.</p>
        <div class="divider"></div>
      </div>
      <!-- Debug output row -->
      <div class="row">
        <div class="section">
          <h5>Typescript variables</h5>
          <p>
            Search Value: <strong>{{searchValue}}</strong><br>
            Selected Field: <strong>{{selectedSearchField}}</strong><br>
            Selected Type: <strong>{{selectedResourceType}}</strong><br>
            Selected Server: <strong>{{connectedServer}}</strong>
          </p>
        </div>
        <div class="section">
          <h5>Saved Resources</h5>
          <p *ngFor="let saved of savedResources">
            Resource Name: <strong>{{saved[0]}}</strong>, Type: <strong>{{saved[1]}}</strong>, ID: <strong>{{saved[2]}}</strong><br>
          </p>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat ">Exit</a>
    </div>
  </div>
  <!-- End! Debug box - Materializecss Modal -->
</main>
<!-- End! Editor Content -->

<!-- Editor Footer -->
<footer id="footer" class="page-footer white black-text">
  <div class="container">
    <div class="row">
      <h6>Console Output</h6>
      <div *ngFor="let log of consolelog; let i = index">
        <p class="blue-text">{{i}}: {{log}}</p>
      </div>
    </div>
  </div>
  <div class="footer-copyright">
    <div class="container">
    Â© 2014 Copyright Text
    <a class="grey-text text-lighten-4 right" href="#!">More Links</a>
    </div>
  </div>
</footer>

<!-- End! Editor Footer -->
